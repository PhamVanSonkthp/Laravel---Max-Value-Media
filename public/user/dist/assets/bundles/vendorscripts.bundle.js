!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(k){"use strict";function t(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==o.call(t))throw new TypeError;var i=e.length,t=String(t),s=t.length,n=1<arguments.length?arguments[1]:void 0;return(n=n?Number(n):0)!=n&&(n=0),!(i<s+Math.min(Math.max(n,0),i))&&-1!=a.call(e,t,n)}var o,a,e,r;function s(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==r.call(t))throw new TypeError;var i=e.length,s=String(t),n=s.length,t=1<arguments.length?arguments[1]:void 0,t=t?Number(t):0,o=(t!=t&&(t=0),Math.min(Math.max(t,0),i));if(i<n+o)return!1;for(var a=-1;++a<n;)if(e.charCodeAt(o+a)!=s.charCodeAt(a))return!1;return!0}String.prototype.includes||(o={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),a="".indexOf,e?e(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t),String.prototype.startsWith||(e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),r={}.toString,e?e(String.prototype,"startsWith",{value:s,configurable:!0,writable:!0}):String.prototype.startsWith=s),Object.keys||(Object.keys=function(t,e,i){for(e in i=[],t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var i={useDefault:!1,_set:k.valHooks.select.set},m=(k.valHooks.select.set=function(t,e){return e&&!i.useDefault&&k(t).data("selected",!0),i._set.apply(this,arguments)},null),n=function(){try{return new Event("change"),!0}catch(t){return!1}}();function h(t){return k.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}k.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?(n?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):i.fireEvent?((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)},k.expr.pseudos.icontains=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.text()).toString().toUpperCase().includes(i[3].toUpperCase())},k.expr.pseudos.ibegins=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())},k.expr.pseudos.aicontains=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.data("normalizedText")||t.text()).toString().toUpperCase().includes(i[3].toUpperCase())},k.expr.pseudos.aibegins=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.data("normalizedText")||t.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())};function d(e){function i(t){return e[t]}var t="(?:"+Object.keys(e).join("|")+")",s=RegExp(t),n=RegExp(t,"g");return function(t){return s.test(t=null==t?"":""+t)?t.replace(n,i):t}}function l(t,e){i.useDefault||(k.valHooks.select.set=i._set,i.useDefault=!0),this.$element=k(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title")),"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=l.prototype.val,this.render=l.prototype.render,this.refresh=l.prototype.refresh,this.setStyle=l.prototype.setStyle,this.selectAll=l.prototype.selectAll,this.deselectAll=l.prototype.deselectAll,this.destroy=l.prototype.destroy,this.remove=l.prototype.remove,this.show=l.prototype.show,this.hide=l.prototype.hide,this.init()}var y=d({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),p=d({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"});function c(t){var o,a=arguments,r=t,t=([].shift.apply(a),this.each(function(){var t=k(this);if(t.is("select")){var e=t.data("selectpicker"),i="object"==typeof r&&r;if(e){if(i)for(var s in i)i.hasOwnProperty(s)&&(e.options[s]=i[s])}else{var n=k.extend({},l.DEFAULTS,k.fn.selectpicker.defaults||{},t.data(),i);n.template=k.extend({},l.DEFAULTS.template,k.fn.selectpicker.defaults?k.fn.selectpicker.defaults.template:{},t.data().template,i.template),t.data("selectpicker",e=new l(this,n))}"string"==typeof r&&(o=e[r]instanceof Function?e[r].apply(e,a):e.options[r])}}));return void 0!==o?o:t}l.VERSION="1.12.4",l.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-round btn-simple",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},l.prototype={constructor:l,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),k('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",n=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+y(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",t='<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu" role="combobox">'+s+n+o+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+a+"</div></div>";return k(t)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){function u(t,e,i,s){return"<li"+(void 0!==i&&""!==i?' class="'+i+'"':"")+(null!=e?' data-original-index="'+e+'"':"")+(null!=s?'data-optgroup="'+s+'"':"")+">"+t+"</li>"}function g(t,e,i,s){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(i?' style="'+i+'"':"")+(f.options.liveSearchNormalize?' data-normalized-text="'+h(y(k(t).html()))+'"':"")+(void 0!==s||null!==s?' data-tokens="'+s+'"':"")+' role="option">'+t+'<span class="'+f.options.iconBase+" "+f.options.tickIcon+' check-mark"></span></a>'}var t,f=this,m=[],v=0,e=document.createElement("option"),b=-1,x=(this.options.title&&!this.multiple&&(b--,this.$element.find(".bs-title-option").length||(t=this.$element[0],e.className="bs-title-option",e.innerHTML=this.options.title,e.value="",t.insertBefore(e,t.firstChild),void 0===k(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(e.selected=!0))),this.$element.find("option"));return x.each(function(t){var e=k(this);if(b++,!e.hasClass("bs-title-option")){var i,d=this.className||"",p=y(this.style.cssText),s=e.data("content")?e.data("content"):e.html(),c=e.data("tokens")?e.data("tokens"):null,n=void 0!==e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",o=void 0!==e.data("icon")?'<span class="'+f.options.iconBase+" "+e.data("icon")+'"></span> ':"",a=e.parent(),r="OPTGROUP"===a[0].tagName,l=r&&a[0].disabled,h=this.disabled||l;if(""!==o&&h&&(o="<span>"+o+"</span>"),f.options.hideDisabled&&(h&&!r||l))return i=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==i?i:t),void b--;if(e.data("content")||(s=o+'<span class="text">'+s+n+"</span>"),r&&!0!==e.data("divider")){if(f.options.hideDisabled&&h)if(void 0===a.data("allOptionsDisabled")&&(l=a.children(),a.data("allOptionsDisabled",l.filter(":disabled").length===l.length)),a.data("allOptionsDisabled"))return void b--;o=" "+a[0].className||"";if(0===e.index()&&(v+=1,n=a[0].label,r=void 0!==a.data("subtext")?'<small class="text-muted">'+a.data("subtext")+"</small>":"",n=(a.data("icon")?'<span class="'+f.options.iconBase+" "+a.data("icon")+'"></span> ':"")+'<span class="text">'+y(n)+r+"</span>",0!==t&&0<m.length&&(b++,m.push(u("",null,"divider",v+"div"))),b++,m.push(u(n,null,"dropdown-header"+o,v))),f.options.hideDisabled&&h)return void b--;m.push(u(g(s,"opt "+d+o,p,c),t,"",v))}else!0===e.data("divider")?m.push(u("",t,"divider")):!0===e.data("hidden")?(i=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==i?i:t),m.push(u(g(s,d,p,c),t,"hidden is-hidden"))):(!(l=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName)&&f.options.hideDisabled&&(void 0===(i=e.data("prevHiddenIndex"))||(a=x.eq(i)[0].previousElementSibling)&&"OPTGROUP"===a.tagName&&!a.disabled&&(l=!0)),l&&(b++,m.push(u("",null,"divider",v+"div"))),m.push(u(g(s,d,p,c),t)));f.liObj[t]=b}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),m.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var e,s=this,i=this.$element.find("option"),t=(!1!==t&&i.each(function(t){var e=s.findLis().eq(s.liObj[t]);s.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),s.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex(),i.map(function(){var t,e,i;if(this.selected&&(!s.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled)))return t=k(this),e=t.data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+t.data("icon")+'"></i> ':"",i=s.options.showSubtext&&t.data("subtext")&&!s.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&s.options.showContent?t.data("content").toString():e+t.html()+i}).toArray()),n=this.multiple?t.join(this.options.multipleSeparator):t[0];this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")&&((1<(e=this.options.selectedTextFormat.split(">")).length&&t.length>e[1]||1==e.length&&2<=t.length)&&(e=this.options.hideDisabled?", [disabled]":"",i=i.not('[data-divider="true"], [data-hidden="true"]'+e).length,n=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(t.length,i):this.options.countSelectedText).replace("{0}",t.length.toString()).replace("{1}",i.toString()))),null==this.options.title&&(this.options.title=this.$element.attr("title")),n=(n="static"==this.options.selectedTextFormat?this.options.title:n)||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",p(k.trim(n.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(n),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));t=t||this.options.style;"add"==e?this.$button.addClass(t):"remove"==e?this.$button.removeClass(t):(this.$button.removeClass(this.options.style),this.$button.addClass(t))},liHeight:function(t){var d,e,i,s,n,o,a,r,l,h;(t||!1!==this.options.size&&!this.sizeInfo)&&(t=document.createElement("div"),h=document.createElement("div"),i=document.createElement("ul"),l=document.createElement("li"),d=document.createElement("li"),s=document.createElement("a"),e=document.createElement("span"),n=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,o=this.options.liveSearch?document.createElement("div"):null,a=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,r=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,e.className="text",t.className=this.$menu[0].parentNode.className+" open",h.className="dropdown-menu",i.className="dropdown-menu inner",l.className="divider",e.appendChild(document.createTextNode("Inner text")),s.appendChild(e),d.appendChild(s),i.appendChild(d),i.appendChild(l),n&&h.appendChild(n),o&&(e=document.createElement("input"),o.className="bs-searchbox",e.className="form-control",o.appendChild(e),h.appendChild(o)),a&&h.appendChild(a),h.appendChild(i),r&&h.appendChild(r),t.appendChild(h),document.body.appendChild(t),d=s.offsetHeight,e=n?n.offsetHeight:0,i=o?o.offsetHeight:0,s=a?a.offsetHeight:0,n=r?r.offsetHeight:0,o=k(l).outerHeight(!0),r=(a="function"==typeof getComputedStyle&&getComputedStyle(h))?null:k(h),h={vert:(l={vert:parseInt(a?a.paddingTop:r.css("paddingTop"))+parseInt(a?a.paddingBottom:r.css("paddingBottom"))+parseInt(a?a.borderTopWidth:r.css("borderTopWidth"))+parseInt(a?a.borderBottomWidth:r.css("borderBottomWidth")),horiz:parseInt(a?a.paddingLeft:r.css("paddingLeft"))+parseInt(a?a.paddingRight:r.css("paddingRight"))+parseInt(a?a.borderLeftWidth:r.css("borderLeftWidth"))+parseInt(a?a.borderRightWidth:r.css("borderRightWidth"))}).vert+parseInt(a?a.marginTop:r.css("marginTop"))+parseInt(a?a.marginBottom:r.css("marginBottom"))+2,horiz:l.horiz+parseInt(a?a.marginLeft:r.css("marginLeft"))+parseInt(a?a.marginRight:r.css("marginRight"))+2},document.body.removeChild(t),this.sizeInfo={liHeight:d,headerHeight:e,searchHeight:i,actionsHeight:s,doneButtonHeight:n,dividerHeight:o,menuPadding:l,menuExtras:h})},setSize:function(){var s,n,p,o,c,u,g,f,m,v,b,i,a,r,x,y,l,w,C,S,$,t,e,h,d;this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(n=(s=this).$menu,p=this.$menuInner,o=k(window),c=this.$newElement[0].offsetHeight,u=this.$newElement[0].offsetWidth,g=this.sizeInfo.liHeight,f=this.sizeInfo.headerHeight,m=this.sizeInfo.searchHeight,v=this.sizeInfo.actionsHeight,b=this.sizeInfo.doneButtonHeight,i=this.sizeInfo.dividerHeight,a=this.sizeInfo.menuPadding,r=this.sizeInfo.menuExtras,e=this.options.hideDisabled?".disabled":"",($=function(){var t,e=s.$newElement.offset(),i=k(s.options.container),i=(s.options.container&&!i.is("body")?((t=i.offset()).top+=parseInt(i.css("borderTopWidth")),t.left+=parseInt(i.css("borderLeftWidth"))):t={top:0,left:0},s.options.windowPadding);l=e.top-t.top-o.scrollTop(),w=o.height()-l-c-t.top-i[2],C=e.left-t.left-o.scrollLeft(),S=o.width()-C-u-t.left-i[1],l-=i[0],C-=i[3]})(),"auto"===this.options.size?((t=function(){function t(e,i){return function(t){return i?t.classList?t.classList.contains(e):k(t).hasClass(e):!(t.classList?t.classList.contains(e):k(t).hasClass(e))}}var e=s.$menuInner[0].getElementsByTagName("li"),e=Array.prototype.filter?Array.prototype.filter.call(e,t("hidden",!1)):s.$lis.not(".hidden"),i=Array.prototype.filter?Array.prototype.filter.call(e,t("dropdown-header",!0)):e.filter(".dropdown-header");$(),h=w-r.vert,x=S-r.horiz,y=s.options.container?(n.data("height")||n.data("height",n.height()),d=n.data("height"),n.data("width")||n.data("width",n.width()),n.data("width")):(d=n.height(),n.width()),s.options.dropupAuto&&s.$newElement.toggleClass("dropup",w<l&&h-r.vert<d),s.$newElement.hasClass("dropup")&&(h=l-r.vert),"auto"===s.options.dropdownAlignRight&&n.toggleClass("dropdown-menu-right",S<C&&x-r.horiz<y-u),e=3<e.length+i.length?3*g+r.vert-2:0,n.css({"max-height":h+"px",overflow:"hidden","min-height":e+f+m+v+b+"px"}),p.css({"max-height":h-f-m-v-b-a.vert+"px","overflow-y":"auto","min-height":Math.max(e-a.vert,0)+"px"})})(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",t),o.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",t)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(e).length>this.options.size&&(t=this.$lis.not(".divider").not(e).children().slice(0,this.options.size).last().parent().index(),e=this.$lis.slice(0,t+1).filter(".divider").length,h=g*this.options.size+e*i+a.vert,d=s.options.container?(n.data("height")||n.data("height",n.height()),n.data("height")):n.height(),s.options.dropupAuto&&this.$newElement.toggleClass("dropup",w<l&&h-r.vert<d),n.css({"max-height":h+f+m+v+b+"px",overflow:"hidden","min-height":""}),p.css({"max-height":h-a.vert+"px","overflow-y":"auto","min-height":""})))},setWidth:function(){var t,e,i,s;"auto"===this.options.width?(this.$menu.css("min-width","0"),t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),s=e.css("width","auto").children("button").outerWidth(),t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,s)+"px")):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=k('<div class="bs-container" />');function e(t){o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),i=t.offset(),a.is("body")?s={top:0,left:0}:((s=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),s.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),n=t.hasClass("dropup")?0:t[0].offsetHeight,o.$bsContainer.css({top:i.top-s.top+n,left:i.left-s.left,width:t[0].offsetWidth})}var i,s,n,o=this,a=k(this.options.container);this.$button.on("click",function(){var t=k(this);o.isDisabled()||(e(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!t.hasClass("open")).append(o.$menu))}),k(window).on("resize scroll",function(){e(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,i){i=i||this.findLis().eq(this.liObj[t]),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var f=this,e=k(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$button.on("click",function(){f.setSize()}),this.$element.on("shown.bs.select",function(){var t;f.options.liveSearch||f.multiple?f.multiple||"number"==typeof(t=f.liObj[f.$element[0].selectedIndex])&&!1!==f.options.size&&(t=(t=f.$lis.eq(t)[0].offsetTop-f.$menuInner[0].offsetTop)-f.$menuInner[0].offsetHeight/2+f.sizeInfo.liHeight/2,f.$menuInner[0].scrollTop=t):f.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(t){var e,i,s,n,d,p,o,a,r,l=k(this),h=l.parent().data("originalIndex"),c=f.$element.val(),u=f.$element.prop("selectedIndex"),g=!0;f.multiple&&1!==f.options.maxOptions&&t.stopPropagation(),t.preventDefault(),f.isDisabled()||l.parent().hasClass("disabled")||(i=(e=(t=f.$element.find("option")).eq(h)).prop("selected"),o=e.parent("optgroup"),s=f.options.maxOptions,n=o.data("maxOptions")||!1,f.multiple?(e.prop("selected",!i),f.setSelected(h,!i),l.blur(),!1===s&&!1===n||(d=s<t.filter(":selected").length,p=n<o.find("option:selected").length,(s&&d||n&&p)&&(s&&1==s?(t.prop("selected",!1),e.prop("selected",!0),f.$menuInner.find(".selected").removeClass("selected"),f.setSelected(h,!0)):n&&1==n?(o.find("option:selected").prop("selected",!1),e.prop("selected",!0),o=l.parent().data("optgroup"),f.$menuInner.find('[data-optgroup="'+o+'"]').removeClass("selected"),f.setSelected(h,!0)):(l=(o="function"==typeof(l="string"==typeof f.options.maxOptionsText?[f.options.maxOptionsText,f.options.maxOptionsText]:f.options.maxOptionsText)?l(s,n):l)[0].replace("{n}",s),a=o[1].replace("{n}",n),r=k('<div class="notify"></div>'),o[2]&&(l=l.replace("{var}",o[2][1<s?0:1]),a=a.replace("{var}",o[2][1<n?0:1])),e.prop("selected",!1),f.$menu.append(r),s&&d&&(r.append(k("<div>"+l+"</div>")),g=!1,f.$element.trigger("maxReached.bs.select")),n&&p&&(r.append(k("<div>"+a+"</div>")),g=!1,f.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){f.setSelected(h,!1)},10),r.delay(750).fadeOut(300,function(){k(this).remove()}))))):(t.prop("selected",!1),e.prop("selected",!0),f.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),f.setSelected(h,!0)),!f.multiple||f.multiple&&1===f.options.maxOptions?f.$button.focus():f.options.liveSearch&&f.$searchbox.focus(),g&&(c!=f.$element.val()&&f.multiple||u!=f.$element.prop("selectedIndex")&&!f.multiple)&&(m=[h,e.prop("selected"),i],f.$element.triggerNative("change")))}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),(f.options.liveSearch&&!k(t.target).hasClass("close")?f.$searchbox:f.$button).focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),(f.options.liveSearch?f.$searchbox:f.$button).focus()}),this.$menu.on("click",".popover-title .close",function(){f.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){(f.options.liveSearch?f.$searchbox:f.$button).focus(),t.preventDefault(),t.stopPropagation(),k(this).hasClass("bs-select-all")?f.selectAll():f.deselectAll()}),this.$element.change(function(){f.render(!1),f.$element.trigger("changed.bs.select",m),m=null})},liveSearchListener:function(){var n=this,o=k('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length&&o.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t,i,s,e;n.$lis.not(".is-hidden").removeClass("hidden"),n.$lis.filter(".active").removeClass("active"),o.remove(),n.$searchbox.val()&&(t=n.$lis.not(".is-hidden, .divider, .dropdown-header"),(e=n.options.liveSearchNormalize?t.not(":a"+n._searchStyle()+'("'+h(n.$searchbox.val())+'")'):t.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')).length===t.length?(o.html(n.options.noneResultsText.replace("{0}",'"'+y(n.$searchbox.val())+'"')),n.$menuInner.append(o),n.$lis.addClass("hidden")):(e.addClass("hidden"),(i=n.$lis.not(".hidden")).each(function(t){var e=k(this);e.hasClass("divider")?void 0===s?e.addClass("hidden"):(s&&s.addClass("hidden"),s=e):e.hasClass("dropdown-header")&&i.eq(t+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):s=null}),s&&s.addClass("hidden"),t.not(".hidden").first().addClass("active"),n.$menuInner.scrollTop(0)))})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var e=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),s=i.length,n=[];if(t){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",t);for(var o=0;o<s;o++){var a=i[o].getAttribute("data-original-index");n[n.length]=e.eq(a)[0]}k(n).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var i,t,s,n,o=k(this),a=(o.is("input")?o.parent():o).parent().data("this"),r=":not(.disabled, .hidden, .dropdown-header, .divider)",l={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},h=a.$newElement.hasClass("open");if(!h&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90))return a.options.container?a.$button.trigger("click"):(a.setSize(),a.$menu.parent().addClass("open"),h=!0),void a.$searchbox.focus();if(a.options.liveSearch&&/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(e.preventDefault(),e.stopPropagation(),a.$menuInner.click(),a.$button.focus()),/(38|40)/.test(e.keyCode.toString(10))){if(!(s=a.$lis.filter(r)).length)return;n=a.options.liveSearch?s.index(s.filter(".active")):s.index(s.find("a").filter(":focus").parent()),t=a.$menuInner.data("prevIndex"),38==e.keyCode?(!a.options.liveSearch&&n!=t||-1==n||n--,n<0&&(n+=s.length)):40==e.keyCode&&(!a.options.liveSearch&&n!=t||n++,n%=s.length),a.$menuInner.data("prevIndex",n),a.options.liveSearch?(e.preventDefault(),o.hasClass("dropdown-toggle")||(s.removeClass("active").eq(n).addClass("active").children("a").focus(),o.focus())):s.eq(n).children("a").focus()}else o.is("input")||(i=[],(s=a.$lis.filter(r)).each(function(t){k.trim(k(this).children("a").text().toLowerCase()).substring(0,1)==l[e.keyCode]&&i.push(t)}),t=k(document).data("keycount"),t++,k(document).data("keycount",t),k.trim(k(":focus").text().toLowerCase()).substring(0,1)!=l[e.keyCode]?(t=1,k(document).data("keycount",t)):t>=i.length&&(k(document).data("keycount",0),t>i.length&&(t=1)),s.eq(i[t-1]).children("a").focus());(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&a.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),a.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(a.$menuInner.find(".active a").click(),o.focus()):((n=k(":focus")).click(),n.focus(),e.preventDefault(),k(document).data("spaceSelect",!0)),k(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(a.multiple||a.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(a.$menu.parent().removeClass("open"),a.options.container&&a.$newElement.removeClass("open"),a.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var u=k.fn.selectpicker;k.fn.selectpicker=c,k.fn.selectpicker.Constructor=l,k.fn.selectpicker.noConflict=function(){return k.fn.selectpicker=u,this},k(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',l.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),k(window).on("load.bs.select.data-api",function(){k(".selectpicker").each(function(){var t=k(this);c.call(t,t.data())})})}(t)}),function($){$.fn.extend({slimScroll:function(C){var S=$.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0",railBorderRadius:"0"},C);return this.each(function(){var p,c,u,g,f,m,o,v,e="<div></div>",b=30,a=!1,r=$(this);if(r.parent().hasClass(S.wrapperClass)){var i,s=r.scrollTop(),l=r.closest("."+S.barClass),n=r.closest("."+S.railClass);if(y(),$.isPlainObject(C)){if("height"in C&&"auto"==C.height&&(r.parent().css("height","auto"),r.css("height","auto"),i=r.parent().parent().height(),r.parent().css("height",i),r.css("height",i)),"scrollTo"in C)s=parseInt(S.scrollTo);else if("scrollBy"in C)s+=parseInt(S.scrollBy);else if("destroy"in C)return l.remove(),n.remove(),void r.unwrap();h(s,!1,!0)}}else $.isPlainObject(C)&&"destroy"in C||(S.height="auto"==S.height?r.parent().height():S.height,i=$(e).addClass(S.wrapperClass).css({position:"relative",overflow:"hidden",width:S.width,height:S.height}),r.css({overflow:"hidden",width:S.width,height:S.height}),n=$(e).addClass(S.railClass).css({width:S.size,height:"100%",position:"absolute",top:0,display:S.alwaysVisible&&S.railVisible?"block":"none","border-radius":S.railBorderRadius,background:S.railColor,opacity:S.railOpacity,zIndex:90}),l=$(e).addClass(S.barClass).css({background:S.color,width:S.size,position:"absolute",top:0,opacity:S.opacity,display:S.alwaysVisible?"block":"none","border-radius":S.borderRadius,BorderRadius:S.borderRadius,MozBorderRadius:S.borderRadius,WebkitBorderRadius:S.borderRadius,zIndex:99}),s="right"==S.position?{right:S.distance}:{left:S.distance},n.css(s),l.css(s),r.wrap(i),r.parent().append(l),r.parent().append(n),S.railDraggable&&l.bind("mousedown",function(e){var i=$(document);return u=!0,t=parseFloat(l.css("top")),pageY=e.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,l.css("top",currTop),h(0,l.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){u=!1,d(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),n.hover(function(){w()},function(){d()}),l.hover(function(){c=!0},function(){c=!1}),r.hover(function(){p=!0,w(),d()},function(){p=!1,d()}),r.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),r.bind("touchmove",function(t){a||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(h((f-t.originalEvent.touches[0].pageY)/S.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY)}),y(),"bottom"===S.start?(l.css({top:r.outerHeight()-l.outerHeight()}),h(0,!0)):"top"!==S.start&&(h($(S.start).position().top,null,!0),S.alwaysVisible||l.hide()),e=this,window.addEventListener?(e.addEventListener("DOMMouseScroll",x,!1),e.addEventListener("mousewheel",x,!1)):document.attachEvent("onmousewheel",x));function x(t){var e,i;p&&(e=0,(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),i=t.target||t.srcTarget||t.srcElement,$(i).closest("."+S.wrapperClass).is(r.parent())&&h(e,!0),t.preventDefault&&!a&&t.preventDefault(),a||(t.returnValue=!1))}function h(t,e,i){a=!1;var s=t,n=r.outerHeight()-l.outerHeight();e&&(s=parseInt(l.css("top"))+t*parseInt(S.wheelStep)/100*l.outerHeight(),s=Math.min(Math.max(s,0),n),s=0<t?Math.ceil(s):Math.floor(s),l.css({top:s+"px"})),s=(o=parseInt(l.css("top"))/(r.outerHeight()-l.outerHeight()))*(r[0].scrollHeight-r.outerHeight()),i&&(e=(s=t)/r[0].scrollHeight*r.outerHeight(),e=Math.min(Math.max(e,0),n),l.css({top:e+"px"})),r.scrollTop(s),r.trigger("slimscrolling",~~s),w(),d()}function y(){m=Math.max(r.outerHeight()/r[0].scrollHeight*r.outerHeight(),b),l.css({height:m+"px"});var t=m==r.outerHeight()?"none":"block";l.css({display:t})}function w(){var t;y(),clearTimeout(g),o==~~o?(a=S.allowPageScroll,v!=o&&(t=0==~~o?"top":"bottom",r.trigger("slimscroll",t))):a=!1,v=o,m>=r.outerHeight()?a=!0:(l.stop(!0,!0).fadeIn("fast"),S.railVisible&&n.stop(!0,!0).fadeIn("fast"))}function d(){S.alwaysVisible||(g=setTimeout(function(){S.disableFadeOut&&p||c||u||(l.fadeOut("slow"),n.fadeOut("slow"))},1e3))}}),this}}),$.fn.extend({slimscroll:$.fn.slimScroll})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.apply(t)}):"object"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}("object"==typeof global?global:this,function(){"use strict";var e={},n=document.querySelectorAll.bind(document),a=Object.prototype.toString,r="ontouchstart"in window;function i(t){var e=typeof t;return"function"==e||"object"==e&&!!t}function h(t){var e=a.call(t);return"[object String]"===e?n(t):i(t)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(e)&&t.hasOwnProperty("length")?t:i(e=t)&&0<e.nodeType?[t]:[]}function d(t){var e={top:0,left:0},i=t&&t.ownerDocument,s=i.documentElement;return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),i=null!==(i=t=i)&&i===i.window?t:9===t.nodeType&&t.defaultView,{top:e.top+i.pageYOffset-s.clientTop,left:e.left+i.pageXOffset-s.clientLeft}}function p(t){var e,i="";for(e in t)t.hasOwnProperty(e)&&(i+=e+":"+t[e]+";");return i}var c={duration:750,delay:200,show:function(t,e,i){if(2===t.button)return!1;e=e||this;var s=document.createElement("div"),n=(s.className="waves-ripple waves-rippling",e.appendChild(s),d(e)),o=0,a=0,o=(a=0<=(a="touches"in t&&t.touches.length?(o=t.touches[0].pageY-n.top,t.touches[0].pageX-n.left):(o=t.pageY-n.top,t.pageX-n.left))?a:0,0<=o?o:0),n="scale("+e.clientWidth/100*3+")",e="translate(0,0)",i=(i&&(e="translate("+i.x+"px, "+i.y+"px)"),s.setAttribute("data-hold",Date.now()),s.setAttribute("data-x",a),s.setAttribute("data-y",o),s.setAttribute("data-scale",n),s.setAttribute("data-translate",e),{top:o+"px",left:a+"px"}),o=(s.classList.add("waves-notransition"),s.setAttribute("style",p(i)),s.classList.remove("waves-notransition"),i["-webkit-transform"]=n+" "+e,i["-moz-transform"]=n+" "+e,i["-ms-transform"]=n+" "+e,i["-o-transform"]=n+" "+e,i.transform=n+" "+e,i.opacity="1","mousemove"===t.type?2500:c.duration);i["-webkit-transition-duration"]=o+"ms",i["-moz-transition-duration"]=o+"ms",i["-o-transition-duration"]=o+"ms",i["transition-duration"]=o+"ms",s.setAttribute("style",p(i))},hide:function(t,e){for(var i=(e=e||this).getElementsByClassName("waves-rippling"),s=0,n=i.length;s<n;s++)!function(t,e,i){var s,n,o,a,r,l;i&&(i.classList.remove("waves-rippling"),s=i.getAttribute("data-x"),n=i.getAttribute("data-y"),o=i.getAttribute("data-scale"),a=i.getAttribute("data-translate"),(r=350-(Date.now()-Number(i.getAttribute("data-hold"))))<0&&(r=0),"mousemove"===t.type&&(r=150),l="mousemove"===t.type?2500:c.duration,setTimeout(function(){i.setAttribute("style",p({top:n+"px",left:s+"px",opacity:"0","-webkit-transition-duration":l+"ms","-moz-transition-duration":l+"ms","-o-transition-duration":l+"ms","transition-duration":l+"ms","-webkit-transform":o+" "+a,"-moz-transform":o+" "+a,"-ms-transform":o+" "+a,"-o-transform":o+" "+a,transform:o+" "+a})),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},l)},r))}(t,e,i[s])}},u={input:function(t){var e,i,s=t.parentNode;"i"===s.tagName.toLowerCase()&&s.classList.contains("waves-effect")||((e=document.createElement("i")).className=t.className+" waves-input-wrapper",t.className="waves-button-input",s.replaceChild(e,t),e.appendChild(t),i=(s=window.getComputedStyle(t,null)).color,s=s.backgroundColor,e.setAttribute("style","color:"+i+";background:"+s),t.setAttribute("style","background-color:rgba(0,0,0,0);"))},img:function(t){var e,i=t.parentNode;"i"===i.tagName.toLowerCase()&&i.classList.contains("waves-effect")||(e=document.createElement("i"),i.replaceChild(e,t),e.appendChild(t))}};var l={touches:0,allowEvent:function(t){var e=!0;return e=/^(mousedown|mousemove)$/.test(t.type)&&l.touches?!1:e},registerEvent:function(t){t=t.type;"touchstart"===t?l.touches+=1:/^(touchend|touchcancel)$/.test(t)&&setTimeout(function(){l.touches&&--l.touches},500)}};function s(e){var i,s,n,o=function(t){if(!1===l.allowEvent(t))return null;for(var e=null,i=t.target||t.srcElement;null!==i.parentElement;){if(i.classList.contains("waves-effect")&&!(i instanceof SVGElement)){e=i;break}i=i.parentElement}return e}(e);null!==o&&(o.disabled||o.getAttribute("disabled")||o.classList.contains("disabled")||(l.registerEvent(e),"touchstart"===e.type&&c.delay?(i=!1,s=setTimeout(function(){s=null,c.show(e,o)},c.delay),o.addEventListener("touchmove",function(t){s&&(clearTimeout(s),s=null),n(t)},!(n=function(t){s&&(clearTimeout(s),s=null,c.show(e,o)),i||(i=!0,c.hide(t,o))})),o.addEventListener("touchend",n,!1),o.addEventListener("touchcancel",n,!1)):(c.show(e,o),r&&(o.addEventListener("touchend",c.hide,!1),o.addEventListener("touchcancel",c.hide,!1)),o.addEventListener("mouseup",c.hide,!1),o.addEventListener("mouseleave",c.hide,!1))))}return e.init=function(t){var e=document.body;"duration"in(t=t||{})&&(c.duration=t.duration),"delay"in t&&(c.delay=t.delay),r&&(e.addEventListener("touchstart",s,!1),e.addEventListener("touchcancel",l.registerEvent,!1),e.addEventListener("touchend",l.registerEvent,!1)),e.addEventListener("mousedown",s,!1)},e.attach=function(t,e){var i,s;t=h(t),e=(e="[object Array]"===a.call(e)?e.join(" "):e)?" "+e:"";for(var n=0,o=t.length;n<o;n++)s=(i=t[n]).tagName.toLowerCase(),-1!==["input","img"].indexOf(s)&&(u[s](i),i=i.parentElement),-1===i.className.indexOf("waves-effect")&&(i.className+=" waves-effect"+e)},e.ripple=function(t,e){var i=(t=h(t)).length;if((e=e||{}).wait=e.wait||0,e.position=e.position||null,i)for(var s={},n=0,o={type:"mousedown",button:1};n<i;n++){var a=t[n],r=e.position||{x:a.clientWidth/2,y:a.clientHeight/2},l=d(a);s.x=l.left+r.x,s.y=l.top+r.y,o.pageX=s.x,o.pageY=s.y,c.show(o,a),0<=e.wait&&null!==e.wait&&setTimeout(function(t,e){return function(){c.hide(t,e)}}({type:"mouseup",button:1},a),e.wait)}},e.calm=function(t){for(var e={type:"mouseup",button:1},i=0,s=(t=h(t)).length;i<s;i++)c.hide(e,t[i])},e.displayEffect=function(t){console.error("Waves.displayEffect() has been deprecated and will be removed in future version. Please use Waves.init() to initialize Waves effect"),e.init(t)},e}),function(w,j,W){var t;t=function(E){"use strict";var v,I,x,H,M,A,h,C,i,o,d,L,l,s,P,_,r,p,c,u,y,g,f,m,n,a={},b=0,t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:W,normalRangeMax:W,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:W,chartRangeMax:W,chartRangeMinX:W,chartRangeMaxX:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:W,nullColor:W,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,colorMap:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:W,thresholdValue:0,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:W,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:W,targetColor:"#4a2",chartRangeMax:W,chartRangeMin:W,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},e=function(){var t,e=function(){this.init.apply(this,arguments)};return 1<arguments.length?(arguments[0]?(e.prototype=E.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],2<arguments.length&&((t=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),E.extend.apply(E,t))):e.prototype=arguments[0],e.prototype.cls=e};E.SPFormatClass=v=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var s,n,o,a,r=this,l=t;return this.format.replace(this.fre,function(){return s=arguments[1],n=arguments[3],(o=r.precre.exec(s))?(a=o[2],s=o[1]):a=!1,(o=l[s])===W?"":n&&e&&e[n]?e[n].get?e[n].get(o)||o:e[n][o]||o:o=h(o)?i.get("numberFormatter")?i.get("numberFormatter")(o):d(o,a,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark")):o})}}),E.spformat=function(t,e){return new v(t,e)},I=function(t,e,i){return t<e?e:i<t?i:t},x=function(t,e){var i;return 2===e?(i=j.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4)%1?(t[j.floor(i)]+t[j.floor(i)-1])/2:t[i-1]:(i=(t.length*e+2)/4)%1?(t[j.floor(i)]+t[j.floor(i)-1])/2:t[i-1]},H=function(t){var e;switch(t){case"undefined":t=W;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},M=function(t){for(var e=[],i=t.length;i--;)e[i]=H(t[i]);return e},A=function(t,e){for(var i=[],s=0,n=t.length;s<n;s++)t[s]!==e&&i.push(t[s]);return i},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},d=function(t,e,i,s,n){var o;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(e=(e=E.inArray(".",t))<0?t.length:e)<t.length&&(t[e]=n),o=e-i;0<o;o-=i)t.splice(o,0,s);return t.join("")},C=function(t,e,i){for(var s=e.length;s--;)if((!i||null!==e[s])&&e[s]!==t)return!1;return!0},o=function(t){return E.isArray(t)?t:[t]},i=function(t){var e,i;if(w.createStyleSheet)try{return void(w.createStyleSheet().cssText=t)}catch(t){i=!0}(e=w.createElement("style")).type="text/css",w.getElementsByTagName("head")[0].appendChild(e),i?w.styleSheets[w.styleSheets.length-1].cssText=t:e["string"==typeof w.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},E.fn.simpledraw=function(t,e,i,s){var n;if(i&&(n=this.data("_jqs_vcanvas")))return n;if(!1===E.fn.sparkline.canvas)return!1;if(E.fn.sparkline.canvas===W){var i=w.createElement("canvas");if(i.getContext&&i.getContext("2d"))E.fn.sparkline.canvas=function(t,e,i,s){return new f(t,e,i,s)};else{if(!w.namespaces||w.namespaces.v)return E.fn.sparkline.canvas=!1;w.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),E.fn.sparkline.canvas=function(t,e,i,s){return new m(t,e,i)}}}return t===W&&(t=E(this).innerWidth()),e===W&&(e=E(this).innerHeight()),n=E.fn.sparkline.canvas(t,e,this,s),(i=E(this).data("_jqs_mhandler"))&&i.registerCanvas(n),n},E.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},E.RangeMapClass=L=e({init:function(t){var e,i,s=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&-1<e.indexOf(":")&&((i=e.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],s.push(i));this.map=t,this.rangelist=s||!1},get:function(t){var e,i,s,n=this.rangelist;if((s=this.map[t])!==W)return s;if(n)for(e=n.length;e--;)if((i=n[e])[0]<=t&&i[1]>=t)return i[2];return W}}),E.range_map=function(t){return new L(t)},l=e({init:function(t,e){var i=E(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=E(t.canvas);this.canvas=t,(this.$canvas=e).mouseenter(E.proxy(this.mouseenter,this)),e.mouseleave(E.proxy(this.mouseleave,this)),e.click(E.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=W)},mouseclick:function(t){var e=E.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){E(w.body).unbind("mousemove.jqs"),E(w.body).bind("mousemove.jqs",E.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new s(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){E(w.body).unbind("mousemove.jqs");var t,e=this.splist,i=e.length,s=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<i;t++)e[t].clearRegionHighlight()&&(s=!0);s&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,s=this.splist,n=s.length,o=!1,a=this.$canvas.offset(),r=this.currentPageX-a.left,l=this.currentPageY-a.top;if(this.over){for(e=0;e<n;e++)(i=s[e].setRegionHighlight(this.currentEl,r,l))&&(o=!0);if(o){if((a=E.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(t="",e=0;e<n;e++)t+=s[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),s=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle;this.container=t.get("tooltipContainer")||w.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),E("#jqssizetip").remove(),E("#jqstooltip").remove(),this.sizetip=E("<div/>",{id:"jqssizetip",style:i,class:e}),this.tooltip=E("<div/>",{id:"jqstooltip",class:e}).appendTo(this.container),t=this.tooltip.offset(),this.offsetLeft=t.left,this.offsetTop=t.top,this.hidden=!0,E(window).unbind("resize.jqs scroll.jqs"),E(window).bind("resize.jqs scroll.jqs",E.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=E(window).scrollTop(),this.scrollLeft=E(window).scrollLeft(),this.scrollRight=this.scrollLeft+E(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===W){if(this.mousex===W)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=W,E(window).unbind("resize.jqs scroll.jqs")}}),E(function(){i('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')}),n=[],E.fn.sparkline=function(r,i){return this.each(function(){var t,o=new E.fn.sparkline.options(this,i),a=E(this),e=function(){var t,e,i,s="html"===r||r===W?(s=(s=this.getAttribute(o.get("tagValuesAttribute")))===W||null===s?a.html():s).replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(","):r,n="auto"===o.get("width")?s.length*o.get("defaultPixelsPerValue"):o.get("width");"auto"===o.get("height")?o.get("composite")&&E.data(this,"_jqs_vcanvas")||((i=w.createElement("span")).innerHTML="a",a.html(i),t=E(i).innerHeight()||E(i).height(),E(i).remove(),i=null):t=o.get("height"),o.get("disableInteraction")?e=!1:(e=E.data(this,"_jqs_mhandler"))?o.get("composite")||e.reset():(e=new l(this,o),E.data(this,"_jqs_mhandler",e)),!o.get("composite")||E.data(this,"_jqs_vcanvas")?((i=new E.fn.sparkline[o.get("type")](this,s,o,n,t)).render(),e&&e.registerSparkline(i)):E.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),E.data(this,"_jqs_errnotify",!0))};if(E(this).html()&&!o.get("disableHiddenCheck")&&E(this).is(":hidden")||!E(this).parents("body").length){if(!o.get("composite")&&E.data(this,"_jqs_pending"))for(t=n.length;t;t--)n[t-1][0]==this&&n.splice(t-1,1);n.push([this,e]),E.data(this,"_jqs_pending",!0)}else e.call(this)})},E.fn.sparkline.defaults=t(),E.sparkline_display_visible=function(){for(var t,e=[],i=0,s=n.length;i<s;i++)t=n[i][0],E(t).is(":visible")&&!E(t).parents().is(":hidden")?(n[i][1].call(t),E.data(n[i][0],"_jqs_pending",!1),e.push(i)):E(t).closest("html").length||E.data(t,"_jqs_pending")||(E.data(n[i][0],"_jqs_pending",!1),e.push(i));for(i=e.length;i;i--)n.splice(e[i-1],1)},E.fn.sparkline.options=e({init:function(t,e){var i,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},i=(t=E.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||i.tagOptionsPrefix),t=(s=this.getTagSetting("type"))===a?t[e.type||i.type]:t[s],this.mergedOptions=E.extend({},i,t,e)},getTagSetting:function(t){var e,i,s,n,o=this.tagOptionsPrefix;if(!1===o||o===W)return a;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(o+t))===W||null===e)e=a;else if("["===e.substr(0,1))for(i=(e=e.substr(1,e.length-2).split(",")).length;i--;)e[i]=H(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(s=e.substr(1,e.length-2).split(","),e={},i=s.length;i--;)e[(n=s[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=H(n[1].replace(/(^\s*)|(\s*$)/g,""));else e=H(e);this.tagValCache.key=e}return e},get:function(t,e){var i=this.getTagSetting(t);return i===a&&(i=this.mergedOptions[t])===W?e:i}}),E.fn.sparkline._base=e({disabled:!1,init:function(t,e,i,s,n){this.el=t,this.$el=E(t),this.values=e,this.options=i,this.width=s,this.height=n,this.currentRegion=W},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var s=this.currentRegion,n=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:s!==(t=this.getRegion(t,e,i))&&(s!==W&&n&&this.removeHighlight(),(this.currentRegion=t)!==W&&n&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==W&&(this.removeHighlight(),!(this.currentRegion=W))},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,d,p,c,i,s,n,o,u,g,a,f,r,l=this.options,m="",h=[];if(this.currentRegion===W)return"";if(t=this.getCurrentRegionFields(),g=l.get("tooltipFormatter"))return g(this,l,t);if(l.get("tooltipChartTitle")&&(m+='<div class="jqs jqstitle">'+l.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(E.isArray(e)||(e=[e]),E.isArray(t)||(t=[t]),s=this.options.get("tooltipFormatFieldlist"),n=this.options.get("tooltipFormatFieldlistKey"),s&&n){for(o=[],i=t.length;i--;)u=t[i][n],-1!=(r=E.inArray(u,s))&&(o[r]=t[i]);t=o}for(d=e.length,f=t.length,i=0;i<d;i++)for(p=(a="string"==typeof(a=e[i])?new v(a):a).fclass||"jqsfield",r=0;r<f;r++)t[r].isNull&&l.get("tooltipSkipNull")||(E.extend(t[r],{prefix:l.get("tooltipPrefix"),suffix:l.get("tooltipSuffix")}),c=a.render(t[r],l.get("tooltipValueLookups"),l),h.push('<div class="'+p+'">'+c+"</div>"));return h.length?m+h.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,s,n,o,a=e.get("highlightColor"),r=e.get("highlightLighten");if(a)return a;if(r&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(n=[],s=4===t.length?16:1,o=0;o<3;o++)n[o]=I(j.round(parseInt(i[o+1],16)*s*r),0,255);return"rgb("+n.join(",")+")"}return t}}),t={changeHighlight:function(t){var e=this.currentRegion,i=this.target,s=this.regionShapes[e];s&&(t=this.renderRegion(e,t),E.isArray(t)||E.isArray(s)?(i.replaceWithShapes(s,t),this.regionShapes[e]=E.map(t,function(t){return t.id})):(i.replaceWithShape(s,t),this.regionShapes[e]=t.id))},render:function(){var t,e,i,s,n=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=n.length;i--;)if(t=this.renderRegion(i))if(E.isArray(t)){for(e=[],s=t.length;s--;)t[s].append(),e.push(t[s].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},E.fn.sparkline.line=P=e(E.fn.sparkline._base,{type:"line",init:function(t,e,i,s,n){P._super.init.call(this,t,e,i,s,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){for(var s=this.regionMap,n=s.length;n--;)if(null!==s[n]&&e>=s[n][0]&&e<=s[n][1])return s[n][2];return W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,t=this.vertices[t],i=this.options,s=i.get("spotRadius"),n=i.get("highlightSpotColor"),i=i.get("highlightLineColor");t&&(s&&n&&(s=e.drawCircle(t[0],t[1],s,W,n),this.highlightSpotId=s.id,e.insertAfterShape(this.lastShapeId,s)),i&&(n=e.drawLine(t[0],this.canvasTop,t[0],this.canvasTop+this.canvasHeight,i),this.highlightLineId=n.id,e.insertAfterShape(this.lastShapeId,n)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var t,e,i,s,n=this.values,o=n.length,a=this.xvalues,r=this.yvalues,l=this.yminmax,h=0;h<o;h++)t=n[h],e="string"==typeof n[h],i="object"==typeof n[h]&&n[h]instanceof Array,s=e&&n[h].split(":"),e&&2===s.length?(a.push(Number(s[0])),r.push(Number(s[1])),l.push(Number(s[1]))):i?(a.push(t[0]),r.push(t[1]),l.push(t[1])):(a.push(h),null===n[h]||"null"===n[h]?r.push(null):(r.push(Number(t)),l.push(Number(t))));this.options.get("xvalues")&&(a=this.options.get("xvalues")),this.maxy=this.maxyorg=j.max.apply(j,l),this.miny=this.minyorg=j.min.apply(j,l),this.maxx=j.max.apply(j,a),this.minx=j.min.apply(j,a),this.xvalues=a,this.yvalues=r,this.yminmax=l},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==W&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,s,n){var o=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),e=e+j.round(i-i*((a-this.miny)/n)),i=j.round(i*(a-o)/n);this.target.drawRect(t,e,s,i,W,this.options.get("normalRangeColor")).append()},render:function(){var d,p,c,t,e,i,u,g,f,m,v,s,b,x,y,w,C,S,$,k,n,o,a=this.options,R=this.target,r=this.canvasWidth,l=this.canvasHeight,T=this.vertices,h=a.get("spotRadius"),I=this.regionMap;if(P._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),k=this.xvalues,n=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(t=e=0,d=this.maxx-this.minx==0?1:this.maxx-this.minx,p=this.maxy-this.miny==0?1:this.maxy-this.miny,c=this.yvalues.length-1,(h=h&&(r<4*h||l<4*h)?0:h)&&(((S=a.get("highlightSpotColor")&&!a.get("disableInteraction"))||a.get("minSpotColor")||a.get("spotColor")&&n[c]===this.miny)&&(l-=j.ceil(h)),(S||a.get("maxSpotColor")||a.get("spotColor")&&n[c]===this.maxy)&&(l-=j.ceil(h),t+=j.ceil(h)),!S&&(!a.get("minSpotColor")&&!a.get("maxSpotColor")||n[0]!==this.miny&&n[0]!==this.maxy)||(e+=j.ceil(h),r-=j.ceil(h)),(S||a.get("spotColor")||a.get("minSpotColor")||a.get("maxSpotColor")&&(n[c]===this.miny||n[c]===this.maxy))&&(r-=j.ceil(h))),l--,a.get("normalRangeMin")===W||a.get("drawNormalOnTop")||this.drawNormalRange(e,t,l,r,p),u=[i=[]],v=null,b=n.length,o=0;o<b;o++)g=k[o],s=k[o+1],f=n[o],m=e+j.round((g-this.minx)*(r/d)),s=o<b-1?e+j.round((s-this.minx)*(r/d)):r,I[o]=[v||0,s=m+(s-m)/2,o],v=s,null===f?o&&(null!==n[o-1]&&u.push(i=[]),T.push(null)):((f=f<this.miny?this.miny:f)>this.maxy&&(f=this.maxy),i.length||i.push([m,t+l]),s=[m,t+j.round(l-l*((f-this.miny)/p))],i.push(s),T.push(s));for(x=[],y=[],w=u.length,o=0;o<w;o++)(i=u[o]).length&&(a.get("fillColor")&&(i.push([i[i.length-1][0],t+l]),y.push(i.slice(0)),i.pop()),2<i.length&&(i[0]=[i[0][0],i[1][1]]),x.push(i));for(w=y.length,o=0;o<w;o++)R.drawShape(y[o],a.get("fillColor"),a.get("fillColor")).append();for(a.get("normalRangeMin")!==W&&a.get("drawNormalOnTop")&&this.drawNormalRange(e,t,l,r,p),w=x.length,o=0;o<w;o++)R.drawShape(x[o],a.get("lineColor"),W,a.get("lineWidth")).append();if(h&&a.get("valueSpots"))for((C=a.get("valueSpots")).get===W&&(C=new L(C)),o=0;o<b;o++)($=C.get(n[o]))&&R.drawCircle(e+j.round((k[o]-this.minx)*(r/d)),t+j.round(l-l*((n[o]-this.miny)/p)),h,W,$).append();h&&a.get("spotColor")&&null!==n[c]&&R.drawCircle(e+j.round((k[k.length-1]-this.minx)*(r/d)),t+j.round(l-l*((n[c]-this.miny)/p)),h,W,a.get("spotColor")).append(),this.maxy!==this.minyorg&&(h&&a.get("minSpotColor")&&(g=k[E.inArray(this.minyorg,n)],R.drawCircle(e+j.round((g-this.minx)*(r/d)),t+j.round(l-l*((this.minyorg-this.miny)/p)),h,W,a.get("minSpotColor")).append()),h&&a.get("maxSpotColor")&&(g=k[E.inArray(this.maxyorg,n)],R.drawCircle(e+j.round((g-this.minx)*(r/d)),t+j.round(l-l*((this.maxyorg-this.miny)/p)),h,W,a.get("maxSpotColor")).append())),this.lastShapeId=R.getLastShapeId(),this.canvasTop=t,R.render()}}}),E.fn.sparkline.bar=_=e(E.fn.sparkline._base,t,{type:"bar",init:function(t,e,i,d,s){var n,p,c,o,u,a,g,f,r,m,l=parseInt(i.get("barWidth"),10),v=parseInt(i.get("barSpacing"),10),b=i.get("chartRangeMin"),x=i.get("chartRangeMax"),y=i.get("chartRangeClip"),w=1/0,C=-1/0;for(_._super.init.call(this,t,e,i,d,s),h=0,T=e.length;h<T;h++)((n="string"==typeof(r=e[h])&&-1<r.indexOf(":"))||E.isArray(r))&&(o=!0,n&&(r=e[h]=M(r.split(":"))),r=A(r,null),(n=j.min.apply(j,r))<w&&(w=n),C<(n=j.max.apply(j,r))&&(C=n));this.stacked=o,this.regionShapes={},this.barWidth=l,this.barSpacing=v,this.totalBarWidth=l+v,this.width=d=e.length*l+(e.length-1)*v,this.initTarget(),y&&(p=b===W?-1/0:b,c=x===W?1/0:x);for(var S=[],$=o?[]:S,k=[],R=[],h=0,T=e.length;h<T;h++)if(o)for(u=e[h],e[h]=f=[],k[h]=0,a=$[h]=R[h]=0,g=u.length;a<g;a++)null!==(r=f[a]=y?I(u[a],p,c):u[a])&&(0<r&&(k[h]+=r),w<0&&0<C?r<0?R[h]+=j.abs(r):$[h]+=r:$[h]+=j.abs(r-(r<0?C:w)),S.push(r));else r=y?I(e[h],p,c):e[h],null!==(r=e[h]=H(r))&&S.push(r);this.max=t=j.max.apply(j,S),this.min=s=j.min.apply(j,S),this.stackMax=C=o?j.max.apply(j,k):t,this.stackMin=w=o?j.min.apply(j,S):s,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<s)&&(s=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>t)&&(t=i.get("chartRangeMax")),this.zeroAxis=l=i.get("zeroAxis",!0),this.xaxisOffset=v=s<=0&&0<=t&&l?0:0==l||0<s?s:t,d=o?j.max.apply(j,$)+j.max.apply(j,R):t-s,this.canvasHeightEf=l&&s<0?this.canvasHeight-2:this.canvasHeight-1,s<v?(m=((o&&0<=t?C:t)-v)/d*this.canvasHeight)!==j.ceil(m)&&(this.canvasHeightEf-=2,m=j.ceil(m)):m=this.canvasHeight,this.yoffset=m,E.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new L(this.colorMapByValue))),this.range=d},getRegion:function(t,e,i){e=j.floor(e/this.totalBarWidth);return e<0||e>=this.values.length?W:e},getCurrentRegionFields:function(){for(var t,e=this.currentRegion,i=o(this.values[e]),s=[],n=i.length;n--;)t=i[n],s.push({isNull:null===t,value:t,color:this.calcColor(n,t,e),offset:e});return s},calcColor:function(t,e,i){var s,n=this.colorMapByIndex,o=this.colorMapByValue,a=this.options,r=this.stacked?a.get("stackedBarColor"):e<0?a.get("negBarColor"):a.get("barColor");return 0===e&&a.get("zeroColor")!==W&&(r=a.get("zeroColor")),o&&(s=o.get(e))?r=s:n&&n.length>i&&(r=n[i]),E.isArray(r)?r[t%r.length]:r},renderRegion:function(d,p){var t,e,i,c,s,u,n,o=this.values[d],a=this.options,r=this.xaxisOffset,l=[],g=this.range,f=this.stacked,m=this.target,v=d*this.totalBarWidth,b=this.canvasHeightEf,h=this.yoffset,x=(o=E.isArray(o)?o:[o]).length,y=(o[0],C(null,o)),w=C(r,o,!0);if(y)return a.get("nullColor")?(i=p?a.get("nullColor"):this.calcHighlightColor(a.get("nullColor"),a),m.drawRect(v,t=0<h?h-1:h,this.barWidth-1,0,i,i)):W;for(c=h,s=0;s<x;s++){if(n=o[s],f&&n===r){if(!w||u)continue;u=!0}e=0<g?j.floor(b*(j.abs(n-r)/g))+1:1,n<r||n===r&&0===h?(t=c,c+=e):(t=h-e,h-=e),i=this.calcColor(s,n,d),p&&(i=this.calcHighlightColor(i,a)),l.push(m.drawRect(v,t,this.barWidth-1,e-1,i,i))}return 1===l.length?l[0]:l}}),E.fn.sparkline.tristate=r=e(E.fn.sparkline._base,t,{type:"tristate",init:function(t,e,i,s,n){var o=parseInt(i.get("barWidth"),10),a=parseInt(i.get("barSpacing"),10);r._super.init.call(this,t,e,i,s,n),this.regionShapes={},this.barWidth=o,this.barSpacing=a,this.totalBarWidth=o+a,this.values=E.map(e,Number),this.width=s=e.length*o+(e.length-1)*a,E.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new L(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return j.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,s=this.values,n=this.options,o=this.colorMapByIndex,a=this.colorMapByValue,a=a&&(i=a.get(t))?i:o&&o.length>e?o[e]:s[e]<0?n.get("negBarColor"):0<s[e]?n.get("posBarColor"):n.get("zeroBarColor");return a},renderRegion:function(t,e){var i,s=this.values,n=this.options,o=this.target,a=o.pixelHeight,a=j.round(a/2),r=t*this.totalBarWidth,a=s[t]<0?(i=a)-1:0<s[t]?(i=0,a-1):(i=a-1,2),s=this.calcColor(s[t],t);if(null!==s)return e&&(s=this.calcHighlightColor(s,n)),o.drawRect(r,i,this.barWidth-1,a-1,s,s)}}),E.fn.sparkline.discrete=p=e(E.fn.sparkline._base,t,{type:"discrete",init:function(t,e,i,s,n){p._super.init.call(this,t,e,i,s,n),this.regionShapes={},this.values=e=E.map(e,Number),this.min=j.min.apply(j,e),this.max=j.max.apply(j,e),this.range=this.max-this.min,this.width=s="auto"===i.get("width")?2*e.length:this.width,this.interval=j.floor(s/e.length),this.itemWidth=s/e.length,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?j.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(t,e,i){return j.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],offset:t}},renderRegion:function(t,e){var i=this.values,s=this.options,n=this.min,o=this.max,a=this.range,r=this.interval,d=this.target,l=this.canvasHeight,h=this.lineHeight,l=l-h,i=I(i[t],n,o),o=t*r,t=j.round(l-(i-n)/a*l),r=s.get("thresholdColor")&&i<s.get("thresholdValue")?s.get("thresholdColor"):s.get("lineColor");return e&&(r=this.calcHighlightColor(r,s)),d.drawLine(o,t,o,t+h,r)}}),E.fn.sparkline.bullet=c=e(E.fn.sparkline._base,{type:"bullet",init:function(t,e,i,s,n){var o;c._super.init.call(this,t,e,i,s,n),this.values=e=M(e),(t=e.slice())[0]=null===t[0]?t[2]:t[0],t[1]=null===e[1]?t[2]:t[1],t=j.min.apply(j,e),o=j.max.apply(j,e),t=i.get("base")===W?t<0?t:0:i.get("base"),this.min=t,this.max=o,this.range=o-t,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s="auto"===i.get("width")?"4.0em":s,this.target=this.$el.simpledraw(s,n,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){t=this.target.getShapeAt(t,e,i);return t!==W&&this.shapes[t]!==W?this.shapes[t]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,s=this.valueShapes[i];switch(delete this.shapes[s],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(s,e)},renderRange:function(t,e){var i=this.values[t],i=j.round(this.canvasWidth*((i-this.min)/this.range)),t=this.options.get("rangeColors")[t-2];return e&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,t,t)},renderPerformance:function(t){var e=this.values[1],e=j.round(this.canvasWidth*((e-this.min)/this.range)),i=this.options.get("performanceColor");return t&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,j.round(.3*this.canvasHeight),e-1,j.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(t){var e=this.values[0],e=j.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),i=j.round(.1*this.canvasHeight),s=this.canvasHeight-2*i,n=this.options.get("targetColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(e,i,this.options.get("targetWidth")-1,s-1,n,n)},render:function(){var t,e,i=this.values.length,s=this.target;if(c._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),s.render()}}}),E.fn.sparkline.pie=u=e(E.fn.sparkline._base,{type:"pie",init:function(t,e,i,s,n){var o,a=0;if(u._super.init.call(this,t,e,i,s,n),this.shapes={},this.valueShapes={},this.values=e=E.map(e,Number),"auto"===i.get("width")&&(this.width=this.height),0<e.length)for(o=e.length;o--;)a+=e[o];this.total=a,this.initTarget(),this.radius=j.floor(j.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){t=this.target.getShapeAt(t,e,i);return t!==W&&this.shapes[t]!==W?this.shapes[t]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,t=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,t),this.valueShapes[e]=t.id,this.shapes[t.id]=e},renderSlice:function(d,p){for(var t,e,i,c=this.target,s=this.options,n=this.radius,u=s.get("borderWidth"),o=s.get("offset"),g=2*j.PI,a=this.values,r=this.total,l=o?2*j.PI*(o/360):0,f=a.length,h=0;h<f;h++){if(e=t=l,0<r&&(e=l+g*(a[h]/r)),d===h)return i=s.get("sliceColors")[h%s.get("sliceColors").length],p&&(i=this.calcHighlightColor(i,s)),c.drawPieSlice(n,n,n-u,t,e,W,i);l=e}},render:function(){var t,e,i=this.target,s=this.values,n=this.options,o=this.radius,a=n.get("borderWidth");if(u._super.render.call(this)){for(a&&i.drawCircle(o,o,j.floor(o-a/2),n.get("borderColor"),W,a).append(),e=s.length;e--;)s[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);i.render()}}}),E.fn.sparkline.box=y=e(E.fn.sparkline._base,{type:"box",init:function(t,e,i,s,n){y._super.init.call(this,t,e,i,s,n),this.values=E.map(e,Number),this.width="auto"===i.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==W&&t.push({field:"lo",value:this.loutlier}),this.routlier!==W&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==W&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==W&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,d,p,e,c,u,i,g,f,s,n=this.target,o=this.values,m=o.length,a=this.options,v=this.canvasWidth,r=this.canvasHeight,l=a.get("chartRangeMin")===W?j.min.apply(j,o):a.get("chartRangeMin"),b=a.get("chartRangeMax")===W?j.max.apply(j,o):a.get("chartRangeMax"),h=0;if(y._super.render.call(this)){if(a.get("raw"))a.get("showOutliers")&&5<o.length?(d=o[0],t=o[1],e=o[2],c=o[3],u=o[4],i=o[5],g=o[6]):(t=o[0],e=o[1],c=o[2],u=o[3],i=o[4]);else if(o.sort(function(t,e){return t-e}),e=x(o,1),c=x(o,2),p=(u=x(o,3))-e,a.get("showOutliers")){for(t=i=W,f=0;f<m;f++)t===W&&o[f]>e-p*a.get("outlierIQR")&&(t=o[f]),o[f]<u+p*a.get("outlierIQR")&&(i=o[f]);d=o[0],g=o[m-1]}else t=o[0],i=o[m-1];this.quartiles=[e,c,u],this.lwhisker=t,this.rwhisker=i,this.loutlier=d,this.routlier=g,s=v/(b-l+1),a.get("showOutliers")&&(h=j.ceil(a.get("spotRadius")),s=(v-=2*j.ceil(a.get("spotRadius")))/(b-l+1),d<t&&n.drawCircle((d-l)*s+h,r/2,a.get("spotRadius"),a.get("outlierLineColor"),a.get("outlierFillColor")).append(),i<g&&n.drawCircle((g-l)*s+h,r/2,a.get("spotRadius"),a.get("outlierLineColor"),a.get("outlierFillColor")).append()),n.drawRect(j.round((e-l)*s+h),j.round(.1*r),j.round((u-e)*s),j.round(.8*r),a.get("boxLineColor"),a.get("boxFillColor")).append(),n.drawLine(j.round((t-l)*s+h),j.round(r/2),j.round((e-l)*s+h),j.round(r/2),a.get("lineColor")).append(),n.drawLine(j.round((t-l)*s+h),j.round(r/4),j.round((t-l)*s+h),j.round(r-r/4),a.get("whiskerColor")).append(),n.drawLine(j.round((i-l)*s+h),j.round(r/2),j.round((u-l)*s+h),j.round(r/2),a.get("lineColor")).append(),n.drawLine(j.round((i-l)*s+h),j.round(r/4),j.round((i-l)*s+h),j.round(r-r/4),a.get("whiskerColor")).append(),n.drawLine(j.round((c-l)*s+h),j.round(.1*r),j.round((c-l)*s+h),j.round(.9*r),a.get("medianColor")).append(),a.get("target")&&(v=j.ceil(a.get("spotRadius")),n.drawLine(j.round((a.get("target")-l)*s+h),j.round(r/2-v),j.round((a.get("target")-l)*s+h),j.round(r/2+v),a.get("targetColor")).append(),n.drawLine(j.round((a.get("target")-l)*s+h-v),j.round(r/2),j.round((a.get("target")-l)*s+h+v),j.round(r/2),a.get("targetColor")).append()),n.render()}}}),g=e({init:function(t,e,i,s){this.target=t,this.id=e,this.type=i,this.args=s},append:function(){return this.target.appendShape(this),this}}),t=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,s,n,o){return this.drawShape([[t,e],[i,s]],n,o)},drawShape:function(t,e,i,s){return this._genShape("Shape",[t,e,i,s])},drawCircle:function(t,e,i,s,n,o){return this._genShape("Circle",[t,e,i,s,n,o])},drawPieSlice:function(t,e,i,s,n,o,a){return this._genShape("PieSlice",[t,e,i,s,n,o,a])},drawRect:function(t,e,i,s,n,o){return this._genShape("Rect",[t,e,i,s,n,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){E(e).html(t)},_calculatePixelDims:function(t,e,i){e=this._pxregex.exec(e);this.pixelHeight=e?e[1]:E(i).height(),e=this._pxregex.exec(t),this.pixelWidth=e?e[1]:E(i).width()},_genShape:function(t,e){var i=b++;return e.unshift(i),new g(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),f=e(t,{init:function(t,e,i,s){f._super.init.call(this,t,e,i),this.canvas=w.createElement("canvas"),i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this),E(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W,E(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var s=this.canvas.getContext("2d");return t!==W&&(s.strokeStyle=t),s.lineWidth=i===W?1:i,e!==W&&(s.fillStyle=e),s},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W},_drawShape:function(t,e,i,s,n){var o,a,r=this._getContext(i,s,n);for(r.beginPath(),r.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;o<a;o++)r.lineTo(e[o][0]+.5,e[o][1]+.5);i!==W&&r.stroke(),s!==W&&r.fill(),this.targetX!==W&&this.targetY!==W&&r.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,s,n,o,a){a=this._getContext(n,o,a);a.beginPath(),a.arc(e,i,s,0,2*j.PI,!1),this.targetX!==W&&this.targetY!==W&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),n!==W&&a.stroke(),o!==W&&a.fill()},_drawPieSlice:function(t,e,i,s,n,o,a,r){var l=this._getContext(a,r);l.beginPath(),l.moveTo(e,i),l.arc(e,i,s,n,o,!1),l.lineTo(e,i),l.closePath(),a!==W&&l.stroke(),r&&l.fill(),this.targetX!==W&&this.targetY!==W&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,s,n,o,a){return this._drawShape(t,[[e,i],[e+s,i],[e+s,i+n],[e,i+n],[e,i]],o,a)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,s=this.shapeseq;for(this.shapes[e.id]=e,i=s.length;i--;)s[i]==t&&(s[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){for(var i,s,n=this.shapeseq,o={},a=t.length;a--;)o[t[a]]=!0;for(a=n.length;a--;)o[i=n[a]]&&(n.splice(a,1),delete this.shapes[i],s=a);for(a=e.length;a--;)n.splice(s,0,e[a].id),this.shapes[e[a].id]=e[a]},insertAfterShape:function(t,e){for(var i=this.shapeseq,s=i.length;s--;)if(i[s]===t)return i.splice(s+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){for(var e=this.shapeseq,i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i=this.shapeseq,s=this.shapes,n=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<n;e++)this["_draw"+(t=s[i[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),m=e(t,{init:function(t,e,i){m._super.init.call(this,t,e,i),i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this),this.canvas=w.createElement("span"),E(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,i='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",i),this.group=E(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,s,n){for(var o,a,r=[],l=0,h=e.length;l<h;l++)r[l]=e[l][0]+","+e[l][1];return o=r.splice(0,1),n=n===W?1:n,a=r[0]===r[r.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(i===W?' stroked="false" ':' strokeWeight="'+n+'px" strokeColor="'+i+'" ')+(s===W?' filled="false"':' fillColor="'+s+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+r.join(", ")+" "+a+'e"> </v:shape>'},_drawCircle:function(t,e,i,s,n,o,a){return'<v:oval  id="jqsshape'+t+'" '+(n===W?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+n+'" ')+(o===W?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(i-=s)+"px; left:"+(e-=s)+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(d,t,e,i,s,n,o,p){var a,r,l,h;if(s===n)return"";if(n-s==2*j.PI&&(s=0,n=2*j.PI),a=t+j.round(j.cos(s)*i),r=e+j.round(j.sin(s)*i),l=t+j.round(j.cos(n)*i),h=e+j.round(j.sin(n)*i),a===l&&r===h){if(n-s<j.PI)return"";a=l=t+i,r=h=e}return a===l&&r===h&&n-s<j.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+d+'" '+(o===W?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ')+(p===W?' filled="false"':' fillColor="'+p+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+e+" wa "+[t-i,e-i,t+i,e+i,a,r,l,h].join(", ")+' x e"> </v:shape>'},_drawRect:function(t,e,i,s,n,o,a){return this._drawShape(t,[[e,i],[e,i+n],[e+s,i+n],[e+s,i],[e,i]],o,a)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){t=E("#jqsshape"+t),e=this["_draw"+e.type].apply(this,e.args);t[0].outerHTML=e},replaceWithShapes:function(t,e){for(var i=E("#jqsshape"+t[0]),s="",n=e.length,o=0;o<n;o++)s+=this["_draw"+e[o].type].apply(this,e[o].args);for(i[0].outerHTML=s,o=1;o<t.length;o++)E("#jqsshape"+t[o]).remove()},insertAfterShape:function(t,e){t=E("#jqsshape"+t),e=this["_draw"+e.type].apply(this,e.args);t[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(t){t=E("#jqsshape"+t);this.group.removeChild(t[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(o){function a(t,e){this.$element=o(t),this.options=o.extend({},a.DEFAULTS,this.dataOptions(),e),this.init()}a.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null},a.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},a.prototype.dataOptions=function(){var t,e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},i=Object.keys(e);for(t in i){var s=i[t];void 0===e[s]&&delete e[s]}return e},a.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},a.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},a.prototype.restart=function(){this.stop(),this.init(),this.start()},a.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},a.prototype.stop=function(){this.interval&&clearInterval(this.interval)},a.prototype.toggle=function(){this.interval?this.stop():this.start()},o.fn.countTo=function(n){return this.each(function(){var t=o(this),e=t.data("countTo"),i="object"==typeof n?n:{},s="string"==typeof n?n:"start";e&&"object"!=typeof n||(e&&e.stop(),t.data("countTo",e=new a(this,i))),e[s].call(e)})}});